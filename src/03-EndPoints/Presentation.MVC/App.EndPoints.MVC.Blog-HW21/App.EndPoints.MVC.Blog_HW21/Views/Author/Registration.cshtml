@model App.EndPoints.MVC.Blog_HW21.Models.AuthorAgg.AuthorVeiwModel;
@section Styles {
    <link rel="stylesheet" href="~/css/Registration.css" />
    
}
<!-- Floating background elements -->
<div class="floating-element" style="width: 80px; height: 80px; top: 10%; left: 5%; animation-delay: 0s;"></div>
<div class="floating-element" style="width: 60px; height: 60px; top: 70%; right: 10%; animation-delay: 2s;"></div>
<div class="floating-element" style="width: 100px; height: 100px; bottom: 20%; left: 8%; animation-delay: 4s;"></div>

<!-- Signup Page -->
<div class="signup-container">
    <div class="signup-left">
        <h2>به خانواده نویسندگان بپیوندید</h2>
        <p>با ثبت نام در پلتفرم نویسندگان، به جامعه‌ای از خلاق‌ترین ذهن‌ها ملحق شوید و استعدادهای خود را به نمایش بگذارید.</p>
        <ul class="signup-features">
            <li><i class="fas fa-check"></i> پروفایل شخصی سازی شده</li>
            <li><i class="fas fa-check"></i> انتشار و مدیریت آثار</li>
            <li><i class="fas fa-check"></i> دریافت بازخورد سازنده</li>
            <li><i class="fas fa-check"></i> شرکت در مسابقات ادبی</li>
            <li><i class="fas fa-check"></i> ارتباط با نویسندگان هم‌فکر</li>
            <li><i class="fas fa-check"></i> آمار و تحلیل پیشرفت</li>
            
        </ul>

        <!-- Floating elements in left panel -->
        <div class="floating-element" style="width: 40px; height: 40px; top: 20%; right: 15%; animation-delay: 1s;"></div>
        <div class="floating-element" style="width: 60px; height: 60px; bottom: 25%; left: 10%; animation-delay: 3s;"></div>
    </div>
    <div class="signup-right">
        <div class="signup-header">
            <h2>ایجاد حساب جدید</h2>
            <p>لطفا اطلاعات خود را برای ثبت نام وارد کنید</p>
        </div>

        <form class="signup-form" id="signupForm" asp-action="Registration" method="post">
            <div class="form-row">
                <div class="form-group">
                    <label for="FirstName">نام</label>
                    <input type="text" id="FirstName" name="FirstName" class="form-control" placeholder="نام خود را وارد کنید" required>
                </div>

                <div class="form-group">
                    <label  for="LastName">نام خانوادگی</label>
                    <input type="text" id="LastName" name="LastName" class="form-control" placeholder="نام خانوادگی خود را وارد کنید" required>
                </div>
            </div>

            <div class="form-group full-width">
                <label  for="Email">ایمیل</label>
                <input type="email" id="Email" name="Email" class="form-control" placeholder="ایمیل خود را وارد کنید" required>
            </div>

            <div class="form-group full-width">
                <label  for="Password">رمز عبور</label>
                <input type="password" id="Password" name="Password" class="form-control" placeholder="رمز عبور خود را وارد کنید" required>
                <span class="password-toggle" id="togglePassword">
                    <i class="far fa-eye"></i>
                </span>
                <div class="password-strength">
                    <div class="password-strength-bar" id="passwordStrengthBar"></div>
                </div>
                <div class="password-strength-text" id="passwordStrengthText">قدرت رمز عبور: ضعیف</div>
            </div>

            <div class="form-group full-width">
                <label for="confirmPassword">تکرار رمز عبور</label>
                <input type="password" id="confirmPassword" name="confirmPassword" class="form-control" placeholder="رمز عبور خود را مجددا وارد کنید" required>
                <span class="password-toggle" id="toggleConfirmPassword">
                    <i class="far fa-eye"></i>
                </span>
                <div id="passwordMatchMessage" class="password-strength-text"></div>
            </div>

            <div class="form-options">
                <div class="terms-agreement">
                    <input type="checkbox" id="terms" required>
                    <label for="terms">با <a href="#">قوانین و مقررات</a> موافقم</label>
                </div>
            </div>

            <button type="submit" class="signup-btn" id="signupBtn">ثبت نام</button>

            <div class="signup-divider">
                <span>یا ثبت نام با</span>
            </div>

            <div class="social-signup">
                <button type="button" class="social-btn google">
                    <i class="fab fa-google"></i>
                    گوگل
                </button>
                <button type="button" class="social-btn facebook">
                    <i class="fab fa-facebook-f"></i>
                    فیسبوک
                </button>
            </div>

            <div class="login-link">
                قبلا حساب کاربری دارید؟
                <a href="#">وارد شوید</a>
            </div>
        </form>
    </div>
</div>

<script>
    // Password Toggle
    const togglePassword = document.querySelector('#togglePassword');
    const password = document.querySelector('#Password');
    const toggleConfirmPassword = document.querySelector('#toggleConfirmPassword');
    const confirmPassword = document.querySelector('#confirmPassword');

    togglePassword.addEventListener('click', function() {
        const type = password.getAttribute('type') === 'password' ? 'text' : 'password';
        password.setAttribute('type', type);
        this.innerHTML = type === 'password' ? '<i class="far fa-eye"></i>' : '<i class="far fa-eye-slash"></i>';
    });

    toggleConfirmPassword.addEventListener('click', function() {
        const type = confirmPassword.getAttribute('type') === 'password' ? 'text' : 'password';
        confirmPassword.setAttribute('type', type);
        this.innerHTML = type === 'password' ? '<i class="far fa-eye"></i>' : '<i class="far fa-eye-slash"></i>';
    });

    // Password Strength Checker
    password.addEventListener('input', function() {
        const strengthBar = document.getElementById('passwordStrengthBar');
        const strengthText = document.getElementById('passwordStrengthText');
        const passwordValue = this.value;

        let strength = 0;
        let text = 'قدرت رمز عبور: ';
        let color = '#ff4757'; // قرمز

        if (passwordValue.length >= 8) strength += 25;
        if (passwordValue.match(/[a-z]/)) strength += 25;
        if (passwordValue.match(/[A-Z]/)) strength += 25;
        if (passwordValue.match(/[0-9]/)) strength += 25;

        strengthBar.style.width = strength + '%';

        if (strength === 0) {
            text += 'بدون رمز';
            color = '#ff4757';
        } else if (strength <= 25) {
            text += 'ضعیف';
            color = '#ff4757';
        } else if (strength <= 50) {
            text += 'متوسط';
            color = '#ffa502';
        } else if (strength <= 75) {
            text += 'قوی';
            color = '#2ed573';
        } else {
            text += 'بسیار قوی';
            color = '#1e90ff';
        }

        strengthText.textContent = text;
        strengthBar.style.background = color;
    });

    // Password Match Checker
    confirmPassword.addEventListener('input', function() {
        const message = document.getElementById('passwordMatchMessage');
        if (this.value === password.value) {
            message.textContent = 'رمز عبور مطابقت دارد';
            message.style.color = '#2ed573';
        } else {
            message.textContent = 'رمز عبور مطابقت ندارد';
            message.style.color = '#ff4757';
        }
    });

    //Form Submission
    document.getElementById('signupForm').addEventListener('submit', function(e) {
        

        const firstName = document.getElementById('FirstName').value;
        const lastName = document.getElementById('LastName').value;
        const email = document.getElementById('Email').value;
        const passwordValue = password.value;
        const confirmPasswordValue = confirmPassword.value;
        const terms = document.getElementById('terms').checked;


      //  Simple validation
        if(!terms) {
            alert('لطفا با قوانین و مقررات موافقت کنید');
            return;
        }

        if(passwordValue !== confirmPasswordValue) {
            alert('رمز عبور و تکرار آن مطابقت ندارند');
            return;
        }
          if(passwordValue !== confirmPasswordValue) {
        e.preventDefault();
        alert('رمز عبور و تکرار آن مطابقت ندارند');
        return;
    }

        // Here you would typically send the data to a server
        // alert(`ثبت نام با موفقیت انجام شد!\nنام: ${firstName} ${lastName}\nایمیل: ${email}`);

        // Reset form
        // this.reset();
        document.getElementById('passwordStrengthBar').style.width = '0%';
        document.getElementById('passwordStrengthText').textContent = 'قدرت رمز عبور: ضعیف';
        document.getElementById('passwordMatchMessage').textContent = '';
    });

    // Social signup buttons
    document.querySelector('.social-btn.google').addEventListener('click', function() {
        alert('ثبت نام با حساب گوگل');
    });

    document.querySelector('.social-btn.facebook').addEventListener('click', function() {
        alert('ثبت نام با حساب فیسبوک');
    });
</script>